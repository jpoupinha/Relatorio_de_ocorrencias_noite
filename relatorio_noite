
import streamlit as st
from datetime import datetime

st.set_page_config(page_title="InspeÃ§Ã£o Noturna - Triagem de Encomendas", layout="centered")

st.title("ğŸ“‹ FormulÃ¡rio de InspeÃ§Ã£o - TÃ©cnico Noturno")
st.subheader("Sistema de Triagem de Encomendas")

# InformaÃ§Ãµes Gerais
st.markdown("### InformaÃ§Ãµes Gerais")
tecnico = st.text_input("Nome do TÃ©cnico")
data = st.date_input("Data", value=datetime.today())
hora_inicio = st.time_input("Hora de InÃ­cio da InspeÃ§Ã£o")
hora_fim = st.time_input("Hora de Fim da InspeÃ§Ã£o")

# VerificaÃ§Ã£o MecÃ¢nica
st.markdown("### ğŸ”§ VerificaÃ§Ã£o MecÃ¢nica")
componentes_mecanicos = {
    "Motores": "",
    "Redutores": "",
    "Correias/Correntes": "",
    "Rolamentos": "",
    "Tapetes Transportadores": "",
    "Estrutura MetÃ¡lica": ""
}

for componente in componentes_mecanicos:
    estado = st.radio(f"{componente} - Estado", ["OK", "Anomalia"], key=componente)
    observacao = st.text_area(f"{componente} - ObservaÃ§Ãµes", key=f"obs_{componente}")

# VerificaÃ§Ã£o Funcional
st.markdown("### âš™ï¸ VerificaÃ§Ã£o Funcional")
funcionais = {
    "Sensores": "",
    "Inversores de FrequÃªncia": "",
    "Fluxo de Encomendas": "",
    "ComunicaÃ§Ã£o com Sistema": ""
}

for item in funcionais:
    estado = st.radio(f"{item} - Estado", ["OK", "Anomalia"], key=item)
    observacao = st.text_area(f"{item} - ObservaÃ§Ãµes", key=f"obs_{item}")

# VerificaÃ§Ã£o de SeguranÃ§a
st.markdown("### ğŸ›¡ï¸ VerificaÃ§Ã£o de SeguranÃ§a")
seguranca = {
    "BotÃµes de EmergÃªncia": "",
    "Barreiras Ã“ticas": "",
    "ProteÃ§Ãµes FÃ­sicas": "",
    "SinalizaÃ§Ã£o": ""
}

for item in seguranca:
    estado = st.radio(f"{item} - Estado", ["OK", "Falha"], key=item)
    observacao = st.text_area(f"{item} - ObservaÃ§Ãµes", key=f"obs_{item}")

# OcorrÃªncias
st.markdown("### ğŸ“‹ Registo de OcorrÃªncias")
ocorrencias = st.text_area("OcorrÃªncias durante o turno")
acoes = st.text_area("AÃ§Ãµes corretivas realizadas")
criticidade = st.radio("Criticidade das ocorrÃªncias", ["Criticidade 1 (Paragem total)", "Criticidade 2 (Funcionamento condicionado)"])

# SubmissÃ£o
if st.button("Submeter InspeÃ§Ã£o"):
    st.success("InspeÃ§Ã£o registada com sucesso!")
    # Aqui pode-se adicionar lÃ³gica para guardar os dados num ficheiro CSV ou base de dados
